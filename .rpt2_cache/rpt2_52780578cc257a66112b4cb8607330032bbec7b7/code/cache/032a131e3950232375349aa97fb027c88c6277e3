{
  "code": "import AdMgr from \"../Mod/AdMgr\";\r\nimport PrefabManager, { PrefabItem } from \"../Libs/PrefabManager\";\r\nexport default class KillBossUI extends Laya.Scene {\r\n    constructor() {\r\n        super();\r\n        this.closeBtn = this['closeBtn'];\r\n        this.barNode = this['barNode'];\r\n        this.clickBtn = this['clickBtn'];\r\n        this.atkAni = this['atkAni'];\r\n        this.curProgress = 0;\r\n    }\r\n    onOpened(param) {\r\n        this.atkAni.loop = false;\r\n        this.closeBtn.on(Laya.Event.CLICK, this, this.closeBtnCB);\r\n        this.clickBtn.on(Laya.Event.MOUSE_DOWN, this, this.clickBtnCBDown);\r\n        this.clickBtn.on(Laya.Event.MOUSE_UP, this, this.clickBtnCBUp);\r\n        Laya.timer.frameLoop(1, this, this.decBar);\r\n    }\r\n    onClosed() {\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    decBar() {\r\n        if (this.curProgress >= 1) {\r\n            Laya.timer.clearAll(this);\r\n            return;\r\n        }\r\n        this.curProgress -= 0.005;\r\n        if (this.curProgress < 0) {\r\n            this.curProgress = 0;\r\n        }\r\n        this.barNode.value = this.curProgress;\r\n    }\r\n    clickBtnCBDown() {\r\n        this.atkAni.play(0, false);\r\n        this.clickBtn.scaleX = 1.2;\r\n        this.clickBtn.scaleY = 1.2;\r\n        this.curProgress += 0.2;\r\n        if (this.curProgress > 1) {\r\n            this.curProgress = 1;\r\n            this.barNode.value = 1;\r\n            return;\r\n        }\r\n        if (this.curProgress >= 0.8) {\r\n            AdMgr.instance.showBanner();\r\n        }\r\n        this.createCoin();\r\n        this.createCoin();\r\n        this.createCoin();\r\n        this.createCoin();\r\n        this.createCoin();\r\n    }\r\n    clickBtnCBUp() {\r\n        this.clickBtn.scaleX = 1;\r\n        this.clickBtn.scaleY = 1;\r\n    }\r\n    closeBtnCB() {\r\n        this.close();\r\n    }\r\n    createCoin() {\r\n        let coin = PrefabManager.instance().getItem(PrefabItem.Coin);\r\n        this.addChild(coin);\r\n        coin.pos(375, 520);\r\n        let desPos = new Laya.Vector2(Math.random() * 400 - 200, Math.random() * 400 - 200);\r\n        Laya.Tween.to(coin, { x: desPos.x + 375, y: desPos.y + 520 }, 200);\r\n        Laya.timer.once(2000, this, () => {\r\n            coin.destroy();\r\n        });\r\n    }\r\n}\r\n",
  "references": [
    "E:/LayaProjects/DrawWeapon/src/Mod/AdMgr.ts",
    "E:/LayaProjects/DrawWeapon/src/Libs/PrefabManager.ts"
  ]
}
